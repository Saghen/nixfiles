:root {
  --ctp-crust: #11111b;
  --ctp-crust-rgb: 17, 17, 27;
  --ctp-mantle: #181825;
  --ctp-mantle-rgb: 24, 24, 37;
  --ctp-base: #1e1e2e;
  --ctp-base-rgb: 30, 30, 46;
  --ctp-core: #2c2c3f;
  --ctp-core-rgb: 44, 44, 63;

  --ctp-surface-0: #313244;
  --ctp-surface-0-rgb: 49, 50, 68;
  --ctp-surface-1: #45475a;
  --ctp-surface-1-rgb: 69, 71, 90;
  --ctp-surface-2: #585b70;
  --ctp-surface-2-rgb: 88, 91, 112;

  --ctp-overlay-0: #6c7086;
  --ctp-overlay-0-rgb: 108, 112, 134;
  --ctp-overlay-1: #7f849c;
  --ctp-overlay-1-rgb: 127, 132, 156;
  --ctp-overlay-2: #9399b2;
  --ctp-overlay-2-rgb: 147, 153, 178;

  --ctp-subtext-0: #a6adc8;
  --ctp-subtext-0-rgb: 166, 173, 200;
  --ctp-subtext-1: #bac2de;
  --ctp-subtext-1-rgb: 186, 194, 222;
  --ctp-subtext-2: #cdd6f4;
  --ctp-subtext-2-rgb: 205, 214, 244;
  --ctp-text: #f0f4ff;
  --ctp-text-rgb: 240, 244, 255;

  --ctp-lavender: #b4befe;
  --ctp-lavendar-rgb: 180, 190, 254;
  --ctp-lavendar-dark: #7f8cfe;
  --ctp-lavendar-dark-rgb: 127, 140, 254;

  --ctp-primary: var(--ctp-blue);

  /* TODO: all of these -dark variants were generated by copilot */
  --ctp-blue: #89b4fa;
  --ctp-blue-rbg: 137, 180, 250;
  --ctp-blue-dark: #5f8cfb;
  --ctp-blue-dark-rgb: 95, 140, 251;

  --ctp-sapphire: #74c7ec;
  --ctp-sapphire-rgb: 116, 199, 236;
  --ctp-sapphire-dark: #4a9edc;
  --ctp-sapphire-dark-rgb: 74, 158, 220;

  --ctp-sky: #89dceb;
  --ctp-sky-rgb: 137, 220, 235;
  --ctp-sky-dark: #5f9edc;
  --ctp-sky-dark-rgb: 95, 158, 220;

  --ctp-teal: #94e2d5;
  --ctp-teal-rgb: 148, 226, 213;
  --ctp-teal-dark: #5fb9a8;
  --ctp-teal-dark-rgb: 95, 185, 168;

  --ctp-green: #a6e3a1;
  --ctp-green-rgb: 166, 227, 161;
  --ctp-green-dark: #5fbf6b;
  --ctp-green-dark-rgb: 95, 191, 107;

  --ctp-yellow: #f9e2af;
  --ctp-yellow-rgb: 249, 226, 175;
  --ctp-yellow-dark: #f5c77b;
  --ctp-yellow-dark-rgb: 245, 199, 123;

  --ctp-peach: #fab387;
  --ctp-peach-rgb: 250, 179, 135;
  --ctp-peach-dark: #f5a87b;
  --ctp-peach-dark-rgb: 245, 168, 123;

  --ctp-maroon: #eba0ac;
  --ctp-maroon-rgb: 235, 160, 172;
  --ctp-maroon-dark: #c97b84;
  --ctp-maroon-dark-rgb: 201, 123, 132;

  --ctp-red: #f38ba8;
  --ctp-red-rgb: 243, 139, 168;
  --ctp-red-dark: #c97b84;
  --ctp-red-dark-rgb: 201, 123, 132;

  --ctp-mauve: #cba6f7;
  --ctp-mauve-rgb: 203, 166, 247;
  --ctp-mauve-dark: #a17be3;
  --ctp-mauve-dark-rgb: 161, 123, 227;

  --ctp-pink: #f5c2e7;
  --ctp-pink-rgb: 245, 194, 231;

  --ctp-flamingo: #f2cdcd;
  --ctp-flamingo-rgb: 242, 205, 205;

  --ctp-rosewater: #f5e0dc;
  --ctp-rosewater-rgb: 245, 224, 220;

  --sag-text: var(--ctp-text);
  --sag-text-secondary: var(--ctp-subtext-2);
  --sag-text-tertiary: var(--ctp-subtext-1);

  --sag-bg-200: var(--ctp-crust);
  --sag-bg-300: var(--ctp-mantle);
  --sag-bg-400: var(--ctp-mantle);
  --sag-bg-500: var(--ctp-base);
  --sag-bg-600: var(--ctp-base);
  --sag-bg-700: var(--ctp-core);
  --sag-bg-800: var(--ctp-surface-0);
  --sag-bg-900: var(--ctp-surface-0);

  --sag-bg-200-rgb: var(--ctp-crust-rgb);
  --sag-bg-300-rgb: var(--ctp-mantle-rgb);
  --sag-bg-400-rgb: var(--ctp-mantle-rgb);
  --sag-bg-500-rgb: var(--ctp-base-rgb);
  --sag-bg-600-rgb: var(--ctp-base-rgb);
  --sag-bg-700-rgb: var(--ctp-core-rgb);
  --sag-bg-800-rgb: var(--ctp-surface-0-rgb);
  --sag-bg-900-rgb: var(--ctp-surface-0-rgb);

  --sag-border: var(--ctp-surface-2);
  --sag-border-rgb: var(--ctp-surface-2-rgb);
  --sag-border-secondary: var(--ctp-surface-1);

  --sag-accent-primary: var(--ctp-blue-dark);
  --sag-accent-primary-rgb: var(--ctp-blue-dark-rgb);
  --sag-accent-secondary: var(--ctp-blue);
  --sag-accent-secondary-rgb: var(--ctp-blue-rbg);

  --sag-red: var(--ctp-red);
  --sag-red-rgb: var(--ctp-red-rgb);
  --sag-red-dark: var(--ctp-red-dark);
  --sag-red-dark-rgb: var(--ctp-red-dark-rgb);

  --sag-green: var(--ctp-green);
  --sag-green-rgb: var(--ctp-green-rgb);
  --sag-green-dark: var(--ctp-green-dark);
  --sag-green-dark-rgb: var(--ctp-green-dark-rgb);

  --sag-yellow: var(--ctp-yellow);
  --sag-yellow-rgb: var(--ctp-yellow-rgb);
  --sag-yellow-dark: var(--ctp-yellow-dark);
  --sag-yellow-dark-rgb: var(--ctp-yellow-dark-rgb);

  --sag-blue: var(--ctp-blue);
  --sag-blue-rgb: var(--ctp-blue-rbg);
  --sag-blue-dark: var(--ctp-blue-dark);
  --sag-blue-dark-rgb: var(--ctp-blue-dark-rgb);

  --sag-purple: var(--ctp-mauve);
  --sag-purple-rgb: var(--ctp-mauve-rgb);
  --sag-purple-dark: var(--ctp-mauve-dark);
  --sag-purple-dark-rgb: var(--ctp-mauve-dark-rgb);

  --sag-orange: var(--ctp-peach);
  --sag-orange-rgb: var(--ctp-peach-rgb);

  --sag-lime: var(--ctp-green);
  --sag-lime-rgb: var(--ctp-green-rgb);

  /* Minimal Functional Fox variables*/
  --mff-bg: var(--sag-bg-500);
  --mff-icon-color: #ccc;
  --mff-nav-toolbar-padding: 8px;
  --mff-sidebar-bg: var(--mff-bg);
  --mff-sidebar-color: #e0fbfc;
  --mff-tab-border-radius: 0px;
  --mff-tab-color: #fefefa;
  --mff-tab-font-family: "Noto Sans", sans;
  --mff-tab-font-size: 11pt;
  --mff-tab-font-weight: 400;
  --mff-tab-height: 32px;
  --mff-tab-pinned-bg: #70c1b3;
  --mff-tab-selected-bg: var(--sag-bg-800);
  --mff-tab-soundplaying-bg: transparent;
  --mff-urlbar-color: var(--ctp-primary);
  --mff-urlbar-focused-color: #e0fbfc;
  --mff-urlbar-font-family: "Cantarell", serif;
  --mff-urlbar-font-size: 12pt;
  --mff-urlbar-font-weight: 700;
  --mff-urlbar-results-color: #e0fbfc;
  --mff-urlbar-results-font-family: "Cantarell", serif;
  --mff-urlbar-results-font-size: 12pt;
  --mff-urlbar-results-font-weight: 700;
  --mff-urlbar-results-url-color: var(--ctp-primary);
  --mff-primary: var(--sag-accent-primary);
  --mff-scrollbar-primary: var(--sag-border);

  /* Overriden Firefox variables*/
  --button-bgcolor: var(--sag-bg-500) !important;
  --input-bgcolor: var(--sag-bg-700) !important;
  --autocomplete-popup-separator-color: transparent !important;
  --lwt-accent-color: var(--sag-bg-500) !important;
  --arrowpanel-background: var(--sag-bg-900) !important;
  --arrowpanel-border-color: transparent !important;
  --lwt-toolbar-field-background-color: var(--sag-bg-500) !important;
  --lwt-toolbar-field-focus: var(--sag-bg-500) !important;
  --toolbar-bgcolor: var(--sag-bg-500) !important;
  --lwt-selected-tab-background-color: var(--sag-bg-800) !important;

  --focus-outline-color: transparent !important;
  --autocomplete-popup-highlight-background: var(
    --sag-accent-primary
  ) !important;

  --chrome-content-separator-color: transparent !important;
  --tab-line-color: transparent !important;

  --toolbar-field-focus-background-color: var(--sag-bg-700) !important;

  --gd-head-width: 380px;
}

/* Expand browser to top */
#appcontent {
  /* margin-top: -42px; */
}

/* or make the top bar position absolute */
#navigator-toolbox {
  position: absolute;
  width: var(--gd-head-width);
  margin-top: 0 !important;
}

#sidebar-box {
  --sidebar-background-color: var(--sag-bg-500) !important;
  margin-top: 40px;
}

/* Hide sideberry header */
#sidebar-box #sidebar-header {
  display: none !important;
}

/* Fixed Sideberry size */
#sidebar-box {
  width: var(--gd-head-width) !important;
}
#sidebar-splitter {
  display: none;
}

/* Comment out to show window control */
.titlebar-buttonbox-container {
  display: none !important;
}

#urlbar-background,
#navigator-toolbox,
#searchbar,
.toolbar-items,
.browser-toolbar:not(.titlebar-color),
#nav-bar-customization-target,
#nav-bar-overflow-button,
#PanelUI-button {
  background-color: var(--sag-bg-500) !important;
}

#TabsToolbar #firefox-view-button[open] > .toolbarbutton-icon,
.tab-background:is([selected], [multiselected]) {
  background-color: var(--sag-bg-900) !important;
  background-image: none !important;
}

#urlbar[focused="true"] > #urlbar-background {
  box-shadow: none !important;
}

#urlbar {
  max-width: 70% !important;
  margin: 0 15% !important;
}

#urlbar-input:focus {
  color: var(--mff-urlbar-focused-color) !important;
}

#urlbar-input {
  font-size: var(--mff-urlbar-font-size) !important;
  color: var(--mff-urlbar-color) !important;
  font-family: var(--mff-urlbar-font-family) !important;
  font-weight: var(--mff-urlbar-font-weight) !important;
  text-align: center !important;
}

#urlbar-results {
  font-family: var(--mff-urlbar-results-font-family);
  font-weight: var(--mff-urlbar-results-font-weight);
  font-size: var(--mff-urlbar-results-font-size) !important;
  color: var(--mff-urlbar-results-color) !important;
}

#urlbar-search-button,
#tracking-protection-icon-container,
#page-action-buttons,
#sync-button,
#tabs-newtab-button {
  display: none !important;
}

/* Flip tabs and top bar */
#titlebar {
  display: none;
  -moz-box-ordinal-group: 3 !important;
}

.tab-close-button {
  display: none !important;
}

.tab-text {
  font-family: var(--mff-tab-font-family);
  font-weight: var(--mff-tab-font-weight);
  font-size: var(--mff-tab-font-size) !important;
  color: var(--mff-tab-color);
}

.search-one-offs {
  display: none !important;
}

.tabbrowser-tab {
  --tab-min-width: 32px;
}

#tabbrowser-tabs {
  display: none;
}

#tabbrowser-tabs:not([noshadowfortests])
  .tab-background:is([selected], [multiselected]) {
  box-shadow: none !important;
}

#nav-bar:not([tabs-hidden="true"]) {
  box-shadow: none !important;
}

/* Floating Search Bar */

/* Uncomment this to fix the arrows showing up for a frame when the a tab opens/closes  */
/*.tabbrowser-tab:not([pinned], [fadein]) {
  display: none !important;
}*/

.titlebar-spacer {
  display: none !important;
}

#navigator-toolbox {
  padding: 4px;
}

#navigator-toolbox-background {
  max-width: 320px;
}

#titlebar {
  margin-left: 190px;
  margin-top: -24px;
  margin-right: 50px;
  transform: translateY(29px);

  --tab-min-height: 32px;
}

.tabbrowser-tab {
  height: var(--tab-min-height) !important;
}

.tabbrowser-tab .tab-background {
  margin-block: 0 !important;
}

.tabbrowser-tab:is([image], [pinned])
  > .tab-stack
  > .tab-content[attention]:not([selected="true"]),
.tabbrowser-tab
  > .tab-stack
  > .tab-content[pinned][titlechanged]:not([selected="true"]) {
  background-position: center bottom calc(2px + var(--tabs-navbar-shadow-size)) !important;
}

#new-tab-button,
#alltabs-button {
  display: none !important;
}

#tabbrowser-tabs:not([secondarytext-unsupported]) .tab-label-container {
  height: var(--tab-min-height) !important;
}

#TabsToolbar {
  --toolbarbutton-inner-padding: calc(
    (var(--tab-min-height) - 24px) / 2
  ) !important;
}

#nav-bar {
  position: unset !important;
}

#nav-bar[urlbar-exceeds-toolbar-bounds] #nav-bar-customization-target::before {
  content: "";
  position: absolute;
  left: 0;
  right: 0;
  top: 0;
  bottom: 0;
  background: #0003;
  z-index: 99999999999;
  pointer-events: none;
}

#nav-bar:not([urlbar-exceeds-toolbar-bounds]) #urlbar-container {
  pointer-events: none;
  opacity: 0;
}

#urlbar-container {
  --urlbar-container-width: 700px;
  --urlbar-container-height: 50px;

  z-index: 99999999999;
  display: flex;
  padding: 0;
  margin: 0 !important;
  box-shadow: 0 0 16px #0004;

  width: var(--urlbar-container-width) !important;
  max-width: var(--urlbar-container-width);
  height: var(--urlbar-container-height);
  max-height: var(--urlbar-container-height);

  position: absolute !important;
  left: 50vw;
  top: 30vh;
  transform: translate(-50%, -50%);

  /* Reset their values */
  padding-block: 0 !important;
  margin-inline: 0 !important;
}

#urlbar-container #urlbar {
  width: var(--urlbar-container-width) !important;
  max-width: var(--urlbar-container-width) !important;
  height: var(--urlbar-container-height) !important;

  padding: 0;
  margin: 0 !important;

  position: unset !important;
  top: 0 !important;
  left: 0 !important;
}

#urlbar-background,
#searchbar {
  background-color: var(--sag-bg-700) !important;
}

#urlbar-go-button {
  display: none;
}

#urlbar-container #urlbar .urlbarView {
  background: var(--sag-bg-700);

  position: absolute !important;
  left: 0;
  right: 0;
  top: calc(100% - var(--toolbarbutton-border-radius) * 2);
  padding-top: calc(var(--toolbarbutton-border-radius) * 2);
  border-radius: var(--toolbarbutton-border-radius);

  /* Reset their values */
  width: unset !important;
  padding-block: 0 !important;
  margin-inline: 0 !important;
}

#urlbar > #urlbar-input-container {
  height: 100% !important;
  width: 100%;
  padding-block: 0 !important;
  padding-inline: 0 !important;
}

#urlbar[open] > .urlbarView > .urlbarView-body-outer > .urlbarView-body-inner {
  border: none !important;
}

.urlbarView .urlbarView-row {
  padding-left: 12px;
  padding-right: 12px;
}

/* Suppress Link Destination Overlay */
#statuspanel[type="overLink"] {
  display: none !important;
}
